import{Q as d,T as h,o as n,f as o,b as e,t as r,g as i,e as b,u as y}from"./app-5DONDm9O.js";import{S as a}from"./sweetalert2.all-D4G9Dln4.js";const g=e("header",null,[e("h2",{class:"text-lg font-bold text-zinc-800"},"Your Subscription Plan")],-1),_={class:"mt-6 space-y-6"},v={class:"flex flex-col gap-3"},P={class:"flex flex-row justify-between"},w=e("div",{class:"font-medium text-stone-400"},"Subscription",-1),S={key:0,class:"flex items-center ms-4"},k={class:"px-2 py-1 text-sm font-semibold leading-tight rounded-md bg-amber-400 text-amber-700"},B={key:1,class:"flex items-center ms-4"},C={class:"px-2 py-1 text-sm font-semibold leading-tight rounded-md bg-rose-300 text-rose-700"},j={key:2,class:"flex items-center ms-4"},E={class:"px-2 py-1 text-sm font-semibold leading-tight rounded-md bg-sky-300 text-sky-700"},F={class:"flex flex-row justify-between"},N=e("div",{class:"font-medium text-stone-400"},"Price",-1),V={class:"flex flex-row justify-between"},A=e("div",{class:"font-medium text-stone-400"},"Next billing date",-1),D={class:"flex items-center justify-between gap-4"},M=["value"],T={key:0,type:"submit",class:"inline-flex items-center py-2 text-xs font-semibold uppercase text-slate-500"},Q={__name:"UserPlan",props:{mustVerifyEmail:{type:Boolean},status:{type:String},userPlan:{type:Object},showSubscriptionForm:{type:Boolean,default:!1}},setup(t){const m=t,c=d().props.auth.user,f=h({user_id:c.id,plan_id:m.userPlan.plan.plan_id}),l=d().props.flash;l.success?a.fire({title:"Success!",text:l.success,icon:"success"}):l.error&&a.fire({title:"Error",text:l.error,icon:"error"});const p=async()=>{await a.fire({title:"Are you sure?",text:"Do you want to cancel the plan?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, cancel plan"}).then(s=>{s.isConfirmed&&x()})},x=async()=>{f.post(route("profile.cancelPlan"),{onSuccess:s=>{a.fire({title:"Success!",text:s.success||"Subscription has been canceled.",icon:"success"})},onError:s=>{a.fire({title:"Error",text:s.response.data.error||"An error occurred. Please try again.",icon:"error"})}})};return(s,u)=>(n(),o("section",null,[g,e("div",_,[e("div",v,[e("div",P,[w,e("div",null,[t.userPlan.plan.name==="Basic"?(n(),o("div",S,[e("span",k,r(t.userPlan.plan.name),1)])):i("",!0),t.userPlan.plan.name==="Premium"?(n(),o("div",B,[e("span",C,r(t.userPlan.plan.name),1)])):i("",!0),t.userPlan.plan.name==="Pro"?(n(),o("div",j,[e("span",E,r(t.userPlan.plan.name),1)])):i("",!0)])]),e("div",F,[N,e("div",null,"RM "+r(t.userPlan.plan.price),1)]),e("div",V,[A,e("div",null,r(t.userPlan.end_date_formatted),1)])]),e("div",D,[t.showSubscriptionForm?i("",!0):(n(),o("button",{key:0,class:"inline-flex items-center px-4 py-2 text-xs font-semibold tracking-widest text-pink-600 uppercase transition duration-150 ease-in-out border border-pink-600 rounded-md hover:outline-none hover:bg-pink-600 hover:text-white",onClick:u[0]||(u[0]=$=>s.$emit("toggle-subscription-form"))}," Change Subscription Plan ")),t.userPlan.status!="non_renewing"?(n(),o("form",{key:1,onSubmit:b(p,["prevent"])},[e("input",{type:"hidden",name:"user_id",value:y(c).id},null,8,M),t.showSubscriptionForm?i("",!0):(n(),o("button",T," Cancel Subscription "))],32)):i("",!0)])])]))}};export{Q as default};
